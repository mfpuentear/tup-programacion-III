{"version":3,"sources":["plugin.js","index.js"],"names":["plugin","mermaidConf","hook","afterEach","html","next","htmlElement","document","createElement","innerHTML","querySelectorAll","forEach","element","replacement","textContent","classList","add","parentNode","replaceChild","doneEach","mermaid","run","_default","exports","default","_plugin","_interopRequireDefault","require","obj","__esModule","window","$docsify","props","mermaidConfig","querySelector","plugins","concat"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAG,SAATA,MAAMA,CAAIC,WAAW;EAAA,OAAK,UAACC,IAAI,EAAK;IAEtCA,IAAI,CAACC,SAAS,CAAC,UAACC,IAAI,EAAEC,IAAI,EAAK;MAC3B;MACA,IAAMC,WAAW,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MACjDF,WAAW,CAACG,SAAS,GAAGL,IAAI;MAE5BE,WAAW,CAACI,gBAAgB,CAAC,wBAAwB,CAAC,CAACC,OAAO,CAAC,UAACC,OAAO,EAAK;QACxE;QACA,IAAMC,WAAW,GAAGN,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QACjDK,WAAW,CAACC,WAAW,GAAGF,OAAO,CAACE,WAAW;QAC7CD,WAAW,CAACE,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;;QAEpC;QACAJ,OAAO,CAACK,UAAU,CAACC,YAAY,CAACL,WAAW,EAAED,OAAO,CAAC;MACzD,CAAC,CAAC;MAEFP,IAAI,CAACC,WAAW,CAACG,SAAS,CAAC;IAC/B,CAAC,CAAC;IAEFP,IAAI,CAACiB,QAAQ,CAAC;MAAA,OAAMC,OAAO,CAACC,GAAG,CAACpB,WAAW,CAAC;IAAA,EAAC;EAEjD,CAAC;AAAA;AAAC,IAAAqB,QAAA,GAEatB,MAAM;AAAAuB,OAAA,CAAAC,OAAA,GAAAF,QAAA;;;;ACxBrB,IAAAG,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAJ,OAAA,EAAAI,GAAA;AAE9B,IAAI,CAACE,MAAM,CAACC,QAAQ,EAAE;EAClBD,MAAM,CAACC,QAAQ,GAAG,CAAC,CAAC;AACxB;AAEA,IAAMC,KAAK,GAAGF,MAAM,CAACC,QAAQ,CAACE,aAAa,IAAI;EAAEC,aAAa,EAAE;AAAW,CAAC;AAE5EJ,MAAM,CAACC,QAAQ,CAACI,OAAO,GAAG,CAACL,MAAM,CAACC,QAAQ,CAACI,OAAO,IAAI,EAAE,EAAEC,MAAM,CAAC,IAAApC,eAAM,EAACgC,KAAK,CAAC,CAAC","file":"docsify-mermaid.js","sourceRoot":"../src","sourcesContent":["const plugin = (mermaidConf) => (hook) => {\n\n    hook.afterEach((html, next) => {\n        // We load the HTML inside a DOM node to allow for manipulation\n        const htmlElement = document.createElement('div');\n        htmlElement.innerHTML = html;\n\n        htmlElement.querySelectorAll('pre[data-lang=mermaid]').forEach((element) => {\n            // Create a <div class=\"mermaid\"> to replace the <pre> \n            const replacement = document.createElement('div');\n            replacement.textContent = element.textContent;\n            replacement.classList.add('mermaid');\n\n            // Replace\n            element.parentNode.replaceChild(replacement, element);\n        });\n\n        next(htmlElement.innerHTML);\n    });\n\n    hook.doneEach(() => mermaid.run(mermaidConf));\n\n};\n\nexport default plugin;","import plugin from './plugin';\n\nif (!window.$docsify) {\n    window.$docsify = {}\n}\n\nconst props = window.$docsify.mermaidConfig || { querySelector: \".mermaid\" };\n\nwindow.$docsify.plugins = (window.$docsify.plugins || []).concat(plugin(props));"]}
